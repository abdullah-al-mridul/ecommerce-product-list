import { useDispatch } from "react-redux";
import { addToCart } from "../features/cartSlice";

interface Product {
  image: string;
  title: string;
  rating: {
    rate: number;
    count: number;
  };
  price: number;
  id: number;
}

const ProductCard: React.FC<Product> = ({
  image,
  title,
  rating,
  id,
  price,
}) => {
  const dispatch = useDispatch();
  const { rate, count } = rating;
  const cartAddHandler = () => {
    dispatch(addToCart({ image, title, price, quantity: 1, id }));
  };
  return (
    <div className=" bg-[#1F2937] p-[15px] flex flex-col rounded-[10px]">
      <img
        className=" h-[150px] w-full object-cover rounded-[10px]"
        src={image}
        alt={title}
      />
      <div className=" flex flex-1 flex-col gap-[20px] justify-between">
        <div>
          <h2
            style={{
              color: "rgb(156, 163, 175)",
            }}
            className="  font-[500] mt-[20px] text-[18px] "
          >
            {title}
          </h2>
        </div>
        <div>
          <div className=" flex justify-between items-center">
            <p className=" flex items-center text-[#6b63ff] gap-[5px] font-[500]">
              <span>
                <svg
                  viewBox="0 0 24.00 24.00"
                  height={25}
                  width={25}
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                  stroke="#6C63FF"
                  strokeWidth="0.00024000000000000003"
                >
                  <g id="SVGRepo_bgCarrier" strokeWidth="0"></g>
                  <g
                    id="SVGRepo_tracerCarrier"
                    strokeLinecap="round"
                    strokeLinejoin="round"
                  ></g>
                  <g id="SVGRepo_iconCarrier">
                    {" "}
                    <path
                      d="M18.4834 16.7674C17.8471 16.9195 17.1829 17 16.5 17C11.8056 17 8 13.1944 8 8.50001C8 8.01653 8.04036 7.54249 8.11791 7.08105C8.08172 7.11586 8.04432 7.14792 8.00494 7.17781C7.72433 7.39083 7.37485 7.46991 6.67589 7.62806L6.03954 7.77204C3.57986 8.32856 2.35002 8.60682 2.05742 9.54774C1.76482 10.4887 2.60325 11.4691 4.2801 13.4299L4.71392 13.9372C5.19042 14.4944 5.42868 14.773 5.53586 15.1177C5.64305 15.4624 5.60703 15.8341 5.53498 16.5776L5.4694 17.2544C5.21588 19.8706 5.08912 21.1787 5.85515 21.7602C6.62117 22.3417 7.77267 21.8116 10.0757 20.7512L10.6715 20.4768C11.3259 20.1755 11.6531 20.0249 12 20.0249C12.3469 20.0249 12.6741 20.1755 13.3285 20.4768L13.9243 20.7512C16.2273 21.8116 17.3788 22.3417 18.1449 21.7602C18.9109 21.1787 18.7841 19.8706 18.5306 17.2544L18.4834 16.7674Z"
                      fill="#6C63FF"
                    ></path>{" "}
                    <path
                      opacity="0.5"
                      d="M9.15302 5.40838L8.82532 5.99623C8.46538 6.64194 8.28541 6.96479 8.0048 7.17781C8.04418 7.14791 8.08158 7.11586 8.11777 7.08105C8.04022 7.54249 7.99986 8.01653 7.99986 8.50001C7.99986 13.1944 11.8054 17 16.4999 17C17.1828 17 17.8469 16.9195 18.4833 16.7674L18.4649 16.5776C18.3928 15.8341 18.3568 15.4624 18.464 15.1177C18.5712 14.773 18.8094 14.4944 19.2859 13.9372L19.7198 13.4299C21.3966 11.4691 22.235 10.4886 21.9424 9.54773C21.6498 8.60682 20.42 8.32856 17.9603 7.77203L17.324 7.62805C16.625 7.4699 16.2755 7.39083 15.9949 7.17781C15.7143 6.96479 15.5343 6.64194 15.1744 5.99624L14.8467 5.40837C13.58 3.13612 12.9467 2 11.9999 2C11.053 2 10.4197 3.13613 9.15302 5.40838Z"
                      fill="#6C63FF"
                    ></path>{" "}
                  </g>
                </svg>
              </span>
              {rate}
              <span className=" font-[400]">({count})</span>
            </p>
            <p className=" text-[#6C63FF] text-[20px] font-[600]">${price}</p>
          </div>
          <button
            onClick={cartAddHandler}
            style={{
              color: "rgb(17, 24, 39)",
            }}
            className=" flex gap-[5px] items-center justify-center w-full bg-[#818CF8] mt-[10px] text-[15px] py-[5px] transition-all hover:bg-[#6366F1] rounded-[5px]"
          >
            <span>
              <svg
                viewBox="0 0 24 24"
                fill="none"
                height={20}
                width={20}
                xmlns="http://www.w3.org/2000/svg"
              >
                <g id="SVGRepo_bgCarrier" strokeWidth="0"></g>
                <g
                  id="SVGRepo_tracerCarrier"
                  strokeLinecap="round"
                  strokeLinejoin="round"
                ></g>
                <g id="SVGRepo_iconCarrier">
                  {" "}
                  <path
                    opacity="0.5"
                    d="M10.0234 2C9.05694 2 8.27344 2.7835 8.27344 3.75C8.27344 4.7165 9.05694 5.5 10.0234 5.5H14.0234C14.9899 5.5 15.7734 4.7165 15.7734 3.75C15.7734 2.7835 14.9899 2 14.0234 2H10.0234Z"
                    fill="rgb(17, 24, 39)"
                  ></path>{" "}
                  <path
                    opacity="0.7"
                    d="M3.88671 16.2052C3.02876 12.7734 2.59979 11.0575 3.50062 9.90376C4.40145 8.75 6.17016 8.75 9.70756 8.75H14.3382C17.8757 8.75 19.6444 8.75 20.5452 9.90376C21.446 11.0575 21.0171 12.7734 20.1591 16.2052C19.6134 18.3879 19.3406 19.4792 18.5268 20.1146C17.713 20.75 16.5881 20.75 14.3382 20.75H9.70756C7.45771 20.75 6.33278 20.75 5.519 20.1146C4.70521 19.4792 4.43238 18.3879 3.88671 16.2052Z"
                    fill="rgb(17, 24, 39)"
                  ></path>{" "}
                  <path
                    d="M15.6039 4.5024C15.7126 4.2745 15.7734 4.0194 15.7734 3.75009C15.7734 3.48204 15.7132 3.22806 15.6055 3.00098C16.289 3.00595 16.8217 3.03732 17.2973 3.22318C17.8655 3.44525 18.3597 3.82275 18.7234 4.31251C19.0903 4.80659 19.2626 5.43988 19.4996 6.31153L19.546 6.4819L20.0587 9.44488C19.6501 9.16295 19.1231 8.99542 18.4414 8.89587L18.0801 6.80786C17.7964 5.76815 17.6934 5.44141 17.5191 5.20683C17.3233 4.94312 17.0572 4.73985 16.7512 4.62027C16.5314 4.53436 16.2658 4.50909 15.6039 4.5024Z"
                    fill="rgb(17, 24, 39)"
                  ></path>{" "}
                  <path
                    d="M8.44142 3.00098C8.3337 3.22807 8.27344 3.48204 8.27344 3.75009C8.27344 4.0194 8.33427 4.2745 8.44294 4.5024C7.78109 4.50909 7.51551 4.53436 7.29571 4.62027C6.98976 4.73985 6.72365 4.94312 6.5278 5.20683C6.35359 5.44141 6.25059 5.76815 5.96681 6.80786L5.60551 8.89578C4.92397 8.99527 4.39697 9.16269 3.98828 9.44442L4.50092 6.4819L4.54731 6.31154C4.78439 5.43989 4.95663 4.80659 5.32356 4.31251C5.68728 3.82275 6.18149 3.44525 6.74968 3.22318C7.22521 3.03733 7.75793 3.00595 8.44142 3.00098Z"
                    fill="rgb(17, 24, 39)"
                  ></path>{" "}
                </g>
              </svg>
            </span>
            <span>Add to Cart</span>
          </button>
        </div>
      </div>
    </div>
  );
};

export default ProductCard;
